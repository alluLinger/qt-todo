name: qt-todo
version: "0.1"
summary: TODO list maker
license: GPL-3.0
description: |
  A simple, memory efficient GUI program for making TODO lists.
  It uses a TSV-style format for storing the lists.
  It allows for adding tasks and marking them as completed, and can work with
  many different lists at once through tabs.

confinement: devmode
base: core18
icon: logo/qt-todo.svg
grade: devel

apps:
  qt-todo:
    command: desktop-launch qt-todo

parts:
  qt-todo:
    source: .
    plugin: qmake
    qt-version: qt5
    project-files: [qt-todo.pro]
    after: [desktop-qt5]

  desktop-qt5:
    build-packages:
      - build-essential
      - qtbase5-dev
      - dpkg-dev
    make-parameters:
     - FLAVOR=qt5
    plugin: make
    source: https://github.com/ubuntu/snapcraft-desktop-helpers.git
    source-subdir: qt
    stage-packages:
      - libxkbcommon0
      - ttf-ubuntu-font-family
      - dmz-cursor-theme
      - light-themes
      - adwaita-icon-theme
      - gnome-themes-standard
      - shared-mime-info
      - libqt5gui5
      - libgdk-pixbuf2.0-0
      - libqt5svg5
      - try:
        - appmenu-qt5
      - locales-all
      - xdg-user-dirs
      - fcitx-frontend-qt5
